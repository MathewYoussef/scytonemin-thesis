# Claim C-007 — DipAwareLoss preserves absorption feature geometry

## Source (AoG code)

> The model predicts a denoised estimate Ṙ from input Rrel, while DipAwareLoss refits a guarded baseline to both the prediction and target, subtracts it to obtain absorption depth profiles, and penalizes the resulting area, centroid, and depth mismatches, steering the network to preserve those features under the locally fitted continuum.

- Code path: `Act_of_God_Mamba_Results/src/losses.py:197` (class `DipAwareLoss`)
- Training integration: `Act_of_God_Mamba_Results/src/train.py:818`

## Evidence Checklist

- Notebook cell: `mamba_ssm/notebooks/denoise_demo.ipynb#cell-dipaware` (planned)
- Rendered figure: `scaffold/mamba_ssm/figures/dipaware_roi_overlay.png` (planned)
- Processed data: `data-processed/reflectance/demo_roi.csv @ <sha256>` (planned)
- Source code: `Act_of_God_Mamba_Results/src/losses.py @ <commit>`
- Automated test: `tests/test_mamba_roi.py::test_dipaware_preserves_roi` (planned)

## Notes

- The demo should overlay continuum‑removed ROI before/after denoising and quantify area/centroid/depth deltas.

